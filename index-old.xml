<craft>
    <parameter name="side1" type="string" default="none"/>
    <parameter name="side2" type="string" default="none"/> 
    <parameter name="side3" type="string" default="none"/> 
    <parameter name="side4" type="string" default="none"/> 
    <script type="text/openjscad">
        function main(params) {

				//to do: change connector shape to cylinder
				//		   remove all linear extrude
				//			get parameter of shape as number, assign to cylinder
				//			deal with minus sign
            var canvas = cube([20, 20, 1]),
                connector_Circle = circle({
                    r: 3,
                    fn: 50
                });

            var piece = canvas

            if (params.side1 != 'none') {
                var connector = linear_extrude({
                        height: 1
                    }, connector_Circle)
                    .translate([-5, 7, 0]);

                piece = union(
                    piece,
                    connector
                )
            }
            //puzzle4's connector shape

            if (params.side2 != 'none') {

                var connector_Triangle = polygon([
                    [0, 0],
                    [2, 0],
                    [1, 1]
                ]).scale(4);
                connector_Triangle = linear_extrude({
                    height: 1
                }, connector_Triangle)
                    .translate([7, 0, 0]);

                var piece = difference(
                    piece,
                    connector_Triangle
                    //difference(piece, puzzle4()) <-- deadlock
                )
            }
            return piece

        }
    </script>
</craft>
